"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[414],{1414:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var i=n(5861),r=n(885),s=n(7757),a=n.n(s),c=n(6445),o=n(5931),l=n(2791),u=(n(6262),n(703)),d=n(4518),x=n(383),p=n(1413),m=n(9617),h=n(890),v=n(1200),f=n(2419),j=n(6711),Z=n(4517),g=n(7340),y=n(7122),b=n(9403),w=n.n(b),k=n(184),C=function(e){var t=(0,l.useContext)(g.u),n=(0,r.Z)(t,2),s=n[0],o=n[1],u=(0,l.useState)({itemName:"",vol:"",price:"",image:""}),x=(0,r.Z)(u,2),b=x[0],C=x[1],I=(0,l.useState)(null),T=(0,r.Z)(I,2),N=T[0],O=T[1],S=function(){O(null),C({itemName:"",vol:"",price:""})},D=Boolean(N),E=D?"simple-popover":void 0,B=function(){var t=(0,i.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"add"!==e.popOverType){t.next=7;break}return t.next=4,(0,Z.jX)(e.barId,b);case 4:t.sent,t.next=10;break;case 7:return t.next=9,(0,Z.Ob)(e.itemId,b);case 9:t.sent;case 10:o(!s),C({itemName:"",vol:"",price:""}),S();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,k.jsxs)("div",{children:[(0,k.jsx)(d.Z,{"aria-describedby":E,variant:"text",onClick:function(t){O(t.currentTarget),"edit"===e.popOverType&&C({itemName:e.itemName,vol:e.vol,price:e.price})},style:{width:"add"===e.popOverType?"100%":"1px"},children:"add"===e.popOverType?(0,k.jsx)(f.Z,{}):(0,k.jsx)(y.Z,{})}),(0,k.jsxs)(m.ZP,{id:E,open:D,anchorEl:N,onClose:S,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,k.jsxs)(c.Z,{maxWidth:"sm",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,k.jsx)(d.Z,{variant:"text",style:{position:"relative",left:"90%",maxHeight:"24px"},onClick:S,children:(0,k.jsx)(j.Z,{})}),(0,k.jsxs)("div",{style:{position:"relative",right:"15%",paddingBottom:"20px"},children:[(0,k.jsx)(h.Z,{sx:{p:2},children:"Enter New Item"}),(0,k.jsx)(v.Z,{id:"outlined-basic",label:"Item Name",variant:"outlined",style:{width:"110%",marginTop:"3px"},value:b.itemName,onChange:function(e){C((0,p.Z)((0,p.Z)({},b),{},{itemName:e.target.value}))}}),(0,k.jsx)(v.Z,{id:"outlined-basic",label:"Volume",variant:"outlined",style:{width:"110%",marginTop:"3px"},value:b.vol,onChange:function(e){C((0,p.Z)((0,p.Z)({},b),{},{vol:Number(e.target.value)}))}}),(0,k.jsx)(v.Z,{id:"outlined-basic",label:"Price",variant:"outlined",style:{width:"110%",marginTop:"3px"},value:b.price,onChange:function(e){C((0,p.Z)((0,p.Z)({},b),{},{price:Number(e.target.value)}))}}),(0,k.jsx)(w(),{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return C((0,p.Z)((0,p.Z)({},b),{},{image:t}))}})]})]}),(0,k.jsx)(d.Z,{variant:"contained",style:{float:"right",marginBottom:"10px",marginRight:"10px",marginTop:"-10px"},onClick:function(e){B(e)},children:"Submit"})]})]})},I=n(6871),T=n(1889),N=n(8384),O=n(8034),S=function(e){var t=function(){var t=(0,i.Z)(a().mark((function t(n,i){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("sent"!==i){t.next=3;break}return t.next=3,(0,Z.tJ)(e.invoiceId,{orderStatus:"sent",items:e.items,customerId:e.customerId});case 3:if("rejected"!==i){t.next=6;break}return t.next=6,(0,Z.tJ)(e.invoiceId,{orderStatus:"rejected",items:e.items,customerId:e.customerId});case 6:e.setCounter(!e.counter);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.Z,{variant:"outlined",onClick:function(e){t(e,"sent")},children:(0,k.jsx)(N.Z,{})}),(0,k.jsx)(d.Z,{variant:"outlined",style:{color:"red",marginTop:"5px"},onClick:function(e){t(e,"rejected")},children:(0,k.jsx)(O.Z,{})})]})},D=function(){var e=(0,l.useState)(!0),t=(0,r.Z)(e,2),n=t[0],s=t[1],c=(0,l.useState)(!1),d=(0,r.Z)(c,2),x=d[0],p=d[1],m=(0,I.UO)(),v=(0,l.useState)([]),f=(0,r.Z)(v,2),j=f[0],g=f[1];return(0,l.useEffect)((0,i.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.b7)(m.idx);case 2:t=e.sent,n=t.data,g(n),n&&p(!0);case 6:case"end":return e.stop()}}),e)}))),[n]),(0,k.jsx)(k.Fragment,{children:j.map((function(e,t){return(0,k.jsx)(o.Z,{direction:"up",in:x,mountOnEnter:!0,unmountOnExit:!0,children:(0,k.jsxs)(u.Z,{elevation:3,style:{padding:"10px",marginTop:"10px"},children:[(0,k.jsxs)(T.ZP,{container:!0,spacing:2,children:[(0,k.jsxs)(T.ZP,{item:!0,xs:9,children:[(0,k.jsxs)(h.Z,{children:["CustomerID: ",e.customerId]}),(0,k.jsxs)(h.Z,{children:["Time: ",e.createdAt]}),(0,k.jsxs)(h.Z,{children:["Total: ",e.total,"TK"]})]}),(0,k.jsx)(T.ZP,{item:!0,xs:3,children:(0,k.jsx)(S,{invoiceId:e._id,customerId:e.customerId,items:e.items,counter:n,setCounter:function(e){return s(e)}})})]}),(0,k.jsx)(u.Z,{elevation:8,style:{padding:"5px"},children:e.items.map((function(e){return(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,k.jsx)(h.Z,{style:{fontWeight:"bolder"},children:e.itemName}),(0,k.jsxs)(h.Z,{style:{fontWeight:"bolder"},children:["x",e.count]}),(0,k.jsxs)(h.Z,{children:[e.vol,"ML"]})]},e)}))})]},t)})}))})},E=n(4554),B=n(2199);function P(e){var t=e.changeView;return(0,k.jsx)(E.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{m:1}},children:(0,k.jsxs)(B.Z,{color:"secondary","aria-label":"medium secondary button group",children:[(0,k.jsx)(d.Z,{style:{width:"100%"},onClick:function(){return t(!1)},children:"Orders"},"one"),(0,k.jsx)(d.Z,{style:{width:"100%"},onClick:function(){return t(!0)},children:"Inventory"},"two")]})})}var _=n(7621),V=n(6647),W=n(2169),F=n(9504),z=n(6125),J=function(e){var t=e.barData;return(0,k.jsx)(_.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:(0,k.jsxs)(V.Z,{children:[(0,k.jsx)(W.Z,{component:"img",height:"200",image:t.cover?t.cover:z,alt:"green iguana"}),(0,k.jsx)(F.Z,{children:(0,k.jsxs)(h.Z,{gutterBottom:!0,variant:"h5",component:"div",children:[t.barName," , ",t.location]})})]})})},K=n(170),L=n(464),M=function(){var e=(0,l.useState)(!1),t=(0,r.Z)(e,2),n=t[0],s=t[1],p=(0,l.useState)(!1),m=(0,r.Z)(p,2),h=m[0],v=m[1],f=(0,l.useContext)(g.u),j=(0,r.Z)(f,2),y=j[0],b=j[1],w=(0,I.UO)(),T=(0,l.useState)(null),N=(0,r.Z)(T,2),O=N[0],S=N[1],E=(0,l.useState)([]),B=(0,r.Z)(E,2),_=B[0],V=B[1];(0,l.useEffect)((0,i.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.SD)();case 2:return t=e.sent,e.next=5,(0,Z.Zy)(w.idx);case 5:n=e.sent,t.map((function(e){e._id===w.idx&&S(e)})),V(n),n&&s(!0);case 9:case"end":return e.stop()}}),e)}))),[y]);var W=(0,l.useState)(null),F=(0,r.Z)(W,2),z=F[0],M=(F[1],Boolean(z),function(){var e=(0,i.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(t),e.next=3,(0,Z.fD)(n);case 3:e.sent,b(!y);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return O?(0,k.jsxs)(c.Z,{maxWidth:"sm",children:[(0,k.jsx)(J,{barData:O}),(0,k.jsx)(P,{changeView:function(e){return v(e)}}),h?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C,{popOverType:"add",barId:O._id}),_?_.map((function(e,t){return(0,k.jsx)(o.Z,{direction:"up",in:n,mountOnEnter:!0,unmountOnExit:!0,children:(0,k.jsx)(u.Z,{elevation:3,style:{marginTop:"20px"},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,k.jsx)("img",{src:e.image?e.image:L,alt:"Drink Image",style:{width:"150px",height:"127px"}}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:e.itemName}),(0,k.jsxs)("p",{children:["Vol:",e.vol,"ML"]}),(0,k.jsxs)("p",{children:["Price:",e.price," TK"]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{children:(0,k.jsx)(C,{price:e.price,vol:e.vol,itemName:e.itemName,itemId:e._id,popOverType:"edit"})}),(0,k.jsx)("div",{children:(0,k.jsx)(d.Z,{variant:"text",onClick:function(t){M(t,e._id)},children:(0,k.jsx)(x.Z,{})})})]})]})},t)},t)})):(0,k.jsx)(c.Z,{style:{position:"relative",top:"30vh"},children:(0,k.jsx)(K.a,{})})]}):(0,k.jsx)(D,{})]}):(0,k.jsx)(c.Z,{style:{position:"relative",top:"30vh"},children:(0,k.jsx)(K.a,{})})}},464:function(e,t,n){e.exports=n.p+"static/media/vodka.6ae66f4bfccc909efe87.webp"},6125:function(e,t,n){e.exports=n.p+"static/media/kingfisher.41053878c28c2a3da044.png"}}]);
//# sourceMappingURL=414.0aff0c72.chunk.js.map